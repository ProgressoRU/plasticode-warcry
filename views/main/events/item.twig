{% extends 'main/layout.twig' %}

{% import 'main/macros.twig' as m %}
{% import 'main/local_macros.twig' as lm %}

{% if can('events', 'create') %}
    {% set sidebar_buttons = [ m.create_button('events', 'Добавить событие') ] %}
{% endif %}

{% block content %}
	<div class="panel panel-primary">
		{% set breadcrumbs = [
			{ 'url': path_for('main.events'), 'text': events_title }
		] %}
		{{ lm.panel_header(_context, title, {
			'buttons': [ m.edit_button('events', event) ],
			'published': event.published
		}) }}
	  	<div class="panel-body">
	 		<p><b>Начало:</b> {{ event.start_ui|raw }}</p>
			{% if event.ends_at or event.unknown_end %}
	  			<p><b>Конец:</b> {% if event.ends_at %}{{ event.end_ui|raw }}{% endif %}{% if event.unknown_end %}неизвестно{% endif %}</p>
			{% endif %}
			<p><b>Тип:</b> {{ event.type.name }}</p>
			{% if event.region %}
				<p><b>Место проведения:</b> {{ event.region.title }}</p>
			{% endif %}
			{% if event.address %}
				<p><b>Адрес:</b> {{ event.address }}</p>
			{% endif %}
			{% if event.website %}
	  			<p><a href="{{ event.website }}">{{ event.website }}</a></p>
			{% endif %}
		</div>
		{% if event.description %}
			<div class="panel-body article">
	  			{{ event.description|raw }}
			</div>
		{% endif %}
		{% if event.tags %}
			<div class="panel-footer">
                {% include 'components/tags.twig' with { 'tags': event.tags } only %}
			</div>
		{% endif %}
	</div>
{% endblock %}
